{
  "id": "sku_name_pack_price",
  "description": "Generic SKU + name + pack + price rows",
  "columns": [
    {
      "role": "code",
      "required": false,
      "header_keywords": ["cat", "catalog", "sku", "code", "item"],
      "value_regex": "^[A-Za-z0-9\\-\\/]+$"
    },
    {
      "role": "name",
      "required": true,
      "header_keywords": ["description", "product", "name", "item"],
      "min_length": 3
    },
    {
      "role": "pack",
      "required": false,
      "header_keywords": ["pack", "size", "qty", "unit"],
      "value_regex": "(\\d+\\s*(ml|l|g|kg|pack|pcs|set))"
    },
    {
      "role": "price",
      "required": true,
      "header_keywords": ["price", "mrp", "rate", "amount"],
      "value_regex": "\\d"
    }
  ],
  "validation": {
    "required_roles": ["name", "price"],
    "optional_roles": ["code", "pack"],
    "min_confidence": 0.45
  },
  "normalization": {
    "currency": {
      "default": "INR",
      "symbols": {
        "₹": "INR",
        "rs": "INR",
        "$": "USD",
        "€": "EUR"
      },
      "codes": {
        "inr": "INR",
        "usd": "USD",
        "eur": "EUR"
      }
    },
    "units": {
      "pack": [
        {
          "pattern": "(\\d+)\\s*x\\s*(\\d+(?:\\.\\d+)?)\\s*(ml|l|g|kg)",
          "format": "$1 x $2 $3"
        },
        {
          "pattern": "(\\d+(?:\\.\\d+)?)\\s*(ml|l)",
          "format": "$1 $2"
        },
        {
          "pattern": "(\\d+(?:\\.\\d+)?)\\s*(g|kg)",
          "format": "$1 $2"
        },
        {
          "pattern": "(pack of \\d+)",
          "format": "$1"
        }
      ]
    }
  }
}
